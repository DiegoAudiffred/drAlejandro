<style>
    .doctor-card {
        cursor: pointer;
        transition: transform 0.3s ease-in-out;
        position: relative;
    }

    .doctor-photo-container {
        position: relative;
        height: 300px;
        /* Altura fija del contenedor */
        overflow: hidden;
    }

    .doctor-photo {
        width: 100%;
        height: 100%;
        object-fit: fill;
        /* Ajusta la imagen al tamaño del contenedor */
        transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .doctor-info {
        position: absolute;
        inset: 0;
        background: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease;
        text-align: center;
        padding: 20px;
    }

    .doctor-card.active .doctor-photo {
        opacity: 0.3;
        transform: scale(1.05);
    }

    .doctor-card.active .doctor-info {
        opacity: 1;
        pointer-events: all;
    }
</style>

<div class="container my-4">
    <div class="row">
        <div class="text-center mb-4">
            <h1 class="fnSuperiorRegularTitle2 text-tercero">Conoce a nuestro equipo</h1>
        </div>

        {% for doc in doctors %}
        <div class="col-md-4 mb-4">
            <div class="doctor-card border border-3 rounded-3 shadow-lg overflow-hidden">
                <div class="doctor-photo-container position-relative">
                    <img src="{{ doc.photo.url }}" class="doctor-photo">
                    <div class="doctor-info bg-white rounded-end">
                        <div class="fw-bold mb-2">{{ doc.name }}</div>
                        <div>{{ doc.phone_number }}</div>

                        <div>{{ doc.puesto }}</div>

                        <div class="mb-3">{{ doc.email }}</div>
                        <button class="btn btn-primary">Ver perfil completo</button>
                    </div>
                </div>
                <div class="card-text">
                    <div class="fnSuperiorRegular p-2">{{ doc.name }}</div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const cards = document.querySelectorAll('.doctor-card');

        cards.forEach(card => {
            card.addEventListener('click', function () {
                // Cierra todas las demás tarjetas abiertas
                cards.forEach(c => {
                    if (c !== card) {
                        c.classList.remove('active');
                    }
                });
                // Alterna la visibilidad de la tarjeta clicada
                card.classList.toggle('active');
            });
        });
    });
</script>